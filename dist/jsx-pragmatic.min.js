!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("pragmatic",[],n):"object"==typeof exports?exports.pragmatic=n():e.pragmatic=n()}("undefined"!=typeof self?self:this,function(){return function(t){var r={};function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=r,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)o.d(t,r,function(e){return n[e]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o(o.s=0)}([function(e,n,t){"use strict";function r(e,n){e.prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n}t.r(n);var o=function(){function e(){}var n=e.prototype;return n.isElementNode=function(){return!1},n.isTextNode=function(){return!1},n.isFragmentNode=function(){return!1},e}(),i=function(o){function e(e,n,t){var r;return(r=o.call(this)||this).name=void 0,r.props=void 0,r.children=void 0,r.onRender=void 0,r.name=e,r.props=n,r.children=t,"function"==typeof n.onRender&&(r.onRender=n.onRender,delete n.onRender),r}r(e,o);var n=e.prototype;return n.getTag=function(){return this.name},n.isTag=function(e){return e===this.name},n.isElementNode=function(){return!0},n.render=function(e){var n=e(this.name,this.props,this.children);return this.onRender&&this.onRender(n),n},n.getText=function(){throw new Error("Can not get text of an element node")},e}(o),c=function(t){function e(e){var n;return(n=t.call(this)||this).text=void 0,n.text=e,n}r(e,t);var n=e.prototype;return n.getTag=function(){throw new Error("Can not get tag of text node")},n.isTag=function(e){throw new Error("Can not check tag of text node")},n.isTextNode=function(){return!0},n.render=function(e){throw new Error("Can not render a text node")},n.getText=function(){return this.text},e}(o),a=function(t){function e(e){var n;return(n=t.call(this)||this).children=void 0,n.children=e,n}r(e,t);var n=e.prototype;return n.getTag=function(){throw new Error("Can not get tag of fragment node")},n.isTag=function(e){throw new Error("Can not check tag of fragment node")},n.isFragmentNode=function(){return!0},n.render=function(e){throw new Error("Can not render a fragment node")},n.getText=function(){throw new Error("Can not get text of a fragment node")},e}(o);function f(e){if("string"==typeof e)return new c(e);if(e instanceof i||e instanceof c||e instanceof a)return e;if(Array.isArray(e))return new a(u(e));if(null!=e)throw new Error("Child node must be string or instance of jsx-pragmatic node; got "+typeof e)}function u(e){for(var n=[],t=0;t<e.length;t++){var r=f(e[t]);if(r)if(r instanceof a)for(var o=0,i=r.children;o<i.length;o++){var c=i[o];n.push(c)}else n.push(r)}return n}var d,p,l=function(e,n){for(var t=arguments.length,r=new Array(2<t?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];if("string"==typeof e)return new i(e,n||{},u(r));if("function"==typeof e)return f(e(n||{},u(r)));throw new TypeError("Expected jsx Element to be a string or a function")};function s(e){if(e&&Object.keys(e).length)throw new Error("Do not pass props to Fragment");for(var n=arguments.length,t=new Array(1<n?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return new a(u(t))}var h=((d={}).node=function(e){var n=e.props;if(!n.el)throw new Error("Must pass el prop to node element");if(1<Object.keys(n).length)throw new Error("Must not pass any prop other than el to node element");return n.el},d.default=function(e){var n=e.name;return e.doc.createElement(n)},d),g=((p={}).iframe=function(e){var o=e.el,n=e.children,i=n[0];if(1<n.length||!i.isElementNode())throw new Error("Expected only single element node as child of iframe element");if(!i.isTag("html"))throw new Error("Expected element to be inserted into frame to be html, got "+i.getTag());o.addEventListener("load",function(){var e=o.contentWindow;if(!e)throw new Error("Expected frame to have contentWindow");for(var n=e.document,t=n.documentElement;t.children&&t.children.length;)t.removeChild(t.children[0]);for(var r=i.render(m({doc:n}));r.children.length;)t.appendChild(r.children[0])})},p.script=function(e){var n=e.el,t=e.children,r=t[0];if(1!==t.length||!r.isTextNode())throw new Error("Expected only single text node as child of script element");n.text=r.getText()},p.default=function(e){for(var n=e.el,t=e.children,r=e.doc,o=e.domRenderer,i=0;i<t.length;i++){var c=t[i];c.isTextNode()?n.appendChild(r.createTextNode(c.getText())):n.appendChild(c.render(o))}},p),m=function(e){var n=(void 0===e?{}:e).doc,u=void 0===n?document:n;return function e(n,t,r){var o,i,c,a,f=(i=(o={name:n,props:t,doc:u}).doc,a=o.props,(h[c=o.name]||h.default)({name:c,props:a,doc:i}));return function(e){for(var n=e.el,t=e.props,r=0,o=Object.keys(t);r<o.length;r++){var i=o[r],c=t[i];if(null!=c&&"el"!==i&&"innerHTML"!==i)if(i.match(/^on[A-Z][a-z]/)&&"function"==typeof c)n.addEventListener(i.slice(2).toLowerCase(),c);else if("string"==typeof c||"number"==typeof c)n.setAttribute(i,c.toString());else{if("boolean"!=typeof c)throw new TypeError("Can not render prop "+i+" of type "+typeof c);!0===c&&n.setAttribute(i,"")}}}({el:f,props:t}),function(e){var n=e.el,t=e.name,r=e.props,o=e.children,i=e.doc,c=e.domRenderer;if(r.hasOwnProperty("innerHTML")){if(1<=o.length)throw new Error("Expected no children to be passed when innerHTML prop is set");var a=r.innerHTML;if("string"!=typeof a)throw new TypeError("innerHTML prop must be string");"script"===t?n.text=a:(n.innerHTML=a,function(e,n){void 0===n&&(n=window.document);for(var t=0,r=e.querySelectorAll("script");t<r.length;t++){var o=r[t],i=o.parentNode;if(i){var c=n.createElement("script");c.text=o.textContent,i.replaceChild(c,o)}}}(n,i))}else(g[t]||g.default)({el:n,name:t,props:r,children:o,doc:i,domRenderer:c})}({el:f,name:n,props:t,children:r,doc:u,domRenderer:e}),f}},v=function(e){var i=(void 0===e?{}:e).React;if(!i)throw new Error("Must pass React library to react renderer");return function n(e,t,r){var o=r.map(function(e){return e.isTextNode()?e.getText():e.render(n)});return i.createElement.apply(i,[e,t].concat(o))}};function y(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#x2F;")}var w=function(){return function n(e,t,r){var o,i,c="string"==typeof t.innerHTML?t.innerHTML:r.map(function(e){return e.isTextNode()?y(e.getText()):e.render(n)}).join("");return"<"+e+(o=t,(i=Object.keys(o).filter(function(e){var n=o[e];return"innerHTML"!==e&&!!n&&("string"==typeof n||"number"==typeof n||!0===n)})).length?" "+i.map(function(e){var n=o[e];if(!0===n)return""+y(e);if("string"!=typeof n&&"number"!=typeof n)throw new TypeError("Unexpected prop type: "+typeof n);return y(e)+'="'+y(n.toString())+'"'}).join(" "):"")+">"+c+"</"+e+">"}};t.d(n,"ElementNode",function(){return i}),t.d(n,"TextNode",function(){return c}),t.d(n,"FragmentNode",function(){return a}),t.d(n,"node",function(){return l}),t.d(n,"Fragment",function(){return s}),t.d(n,"dom",function(){return m}),t.d(n,"react",function(){return v}),t.d(n,"html",function(){return w})}])});
//# sourceMappingURL=jsx-pragmatic.min.js.map