!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("pragmatic",[],n):"object"==typeof exports?exports.pragmatic=n():e.pragmatic=n()}("undefined"!=typeof self?self:this,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function r(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}t.r(n);var o=function(){function e(){}var n=e.prototype;return n.isElementNode=function(){return!1},n.isTextNode=function(){return!1},n.isFragmentNode=function(){return!1},e}(),i=function(e){function n(n,t,r){var o;return(o=e.call(this)||this).name=void 0,o.props=void 0,o.children=void 0,o.onRender=void 0,o.name=n,o.props=t,o.children=r,"function"==typeof t.onRender&&(o.onRender=t.onRender,delete t.onRender),o}r(n,e);var t=n.prototype;return t.getTag=function(){return this.name},t.isTag=function(e){return e===this.name},t.isElementNode=function(){return!0},t.render=function(e){var n=e(this.name,this.props,this.children);return this.onRender&&this.onRender(n),n},t.getText=function(){throw new Error("Can not get text of an element node")},n}(o),c=function(e){function n(n){var t;return(t=e.call(this)||this).text=void 0,t.text=n,t}r(n,e);var t=n.prototype;return t.getTag=function(){throw new Error("Can not get tag of text node")},t.isTag=function(e){throw new Error("Can not check tag of text node")},t.isTextNode=function(){return!0},t.render=function(e){throw new Error("Can not render a text node")},t.getText=function(){return this.text},n}(o),a=function(e){function n(n){var t;return(t=e.call(this)||this).children=void 0,t.children=n,t}r(n,e);var t=n.prototype;return t.getTag=function(){throw new Error("Can not get tag of fragment node")},t.isTag=function(e){throw new Error("Can not check tag of fragment node")},t.isFragmentNode=function(){return!0},t.render=function(e){throw new Error("Can not render a fragment node")},t.getText=function(){throw new Error("Can not get text of a fragment node")},n}(o);function f(e){if("string"==typeof e)return new c(e);if(e instanceof i||e instanceof c||e instanceof a)return e;if(Array.isArray(e))return new a(u(e));if(null!=e)throw new Error("Child node must be string or instance of jsx-pragmatic node; got "+typeof e)}function u(e){for(var n=[],t=0;t<e.length;t++){var r=f(e[t]);if(r)if(r instanceof a)for(var o=0,i=r.children;o<i.length;o++){var c=i[o];n.push(c)}else n.push(r)}return n}var d,p,l=function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];if("string"==typeof e)return new i(e,n||{},u(r));if("function"==typeof e)return f(e(n||{},u(r)));throw new TypeError("Expected jsx Element to be a string or a function")};function s(e){if(e&&Object.keys(e).length)throw new Error("Do not pass props to Fragment");for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return new a(u(t))}var h="html",g="iframe",m="script",v="node",y="default",w="innerHTML",x="el",E=((d={})[v]=function(e){var n=e.props;if(!n[x])throw new Error("Must pass "+x+" prop to "+v+" element");if(Object.keys(n).length>1)throw new Error("Must not pass any prop other than "+x+" to "+v+" element");return n[x]},d[y]=function(e){var n=e.name;return e.doc.createElement(n)},d),b=((p={})[g]=function(e){var n=e.el,t=e.children,r=t[0];if(t.length>1||!r.isElementNode())throw new Error("Expected only single element node as child of "+g+" element");if(!r.isTag(h))throw new Error("Expected element to be inserted into frame to be html, got "+r.getTag());n.addEventListener("load",function(){var e=n.contentWindow;if(!e)throw new Error("Expected frame to have contentWindow");for(var t=e.document,o=t.documentElement;o.children&&o.children.length;)o.removeChild(o.children[0]);for(var i=r.render(T({doc:t}));i.children.length;)o.appendChild(i.children[0])})},p[m]=function(e){var n=e.el,t=e.children,r=t[0];if(1!==t.length||!r.isTextNode())throw new Error("Expected only single text node as child of "+m+" element");n.text=r.getText()},p[y]=function(e){for(var n=e.el,t=e.children,r=e.doc,o=e.domRenderer,i=0;i<t.length;i++){var c=t[i];c.isTextNode()?n.appendChild(r.createTextNode(c.getText())):n.appendChild(c.render(o))}},p),T=function(e){var n=(void 0===e?{}:e).doc,t=void 0===n?document:n;return function e(n,r,o){var i=function(e){var n=e.doc,t=e.name,r=e.props;return(E[t]||E[y])({name:t,props:r,doc:n})}({name:n,props:r,doc:t});return function(e){for(var n=e.el,t=e.props,r=0,o=Object.keys(t);r<o.length;r++){var i=o[r],c=t[i];if(null!=c&&i!==x&&i!==w)if(i.match(/^on[A-Z][a-z]/)&&"function"==typeof c)n.addEventListener(i.slice(2).toLowerCase(),c);else if("string"==typeof c||"number"==typeof c)n.setAttribute(i,c.toString());else{if("boolean"!=typeof c)throw new TypeError("Can not render prop "+i+" of type "+typeof c);!0===c&&n.setAttribute(i,"")}}}({el:i,props:r}),function(e){var n=e.el,t=e.name,r=e.props,o=e.children,i=e.doc,c=e.domRenderer;if(r.hasOwnProperty(w)){if(o.length>=1)throw new Error("Expected no children to be passed when "+w+" prop is set");var a=r[w];if("string"!=typeof a)throw new TypeError(w+" prop must be string");t===m?n.text=a:(n.innerHTML=a,function(e,n){void 0===n&&(n=window.document);for(var t=0,r=e.querySelectorAll("script");t<r.length;t++){var o=r[t],i=o.parentNode;if(i){var c=n.createElement("script");c.text=o.textContent,i.replaceChild(c,o)}}}(n,i))}else(b[t]||b[y])({el:n,name:t,props:r,children:o,doc:i,domRenderer:c})}({el:i,name:n,props:r,children:o,doc:t,domRenderer:e}),i}},j=function(e){var n=(void 0===e?{}:e).React;if(!n)throw new Error("Must pass React library to react renderer");return function e(t,r,o){var i=o.map(function(n){return n.isTextNode()?n.getText():n.render(e)});return n.createElement.apply(n,[t,r].concat(i))}};function C(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#x2F;")}var N=function(){return function e(n,t,r){var o="string"==typeof t.innerHTML?t.innerHTML:r.map(function(n){return n.isTextNode()?C(n.getText()):n.render(e)}).join("");return"<"+n+function(e){var n=Object.keys(e).filter(function(n){var t=e[n];return"innerHTML"!==n&&!!t&&("string"==typeof t||"number"==typeof t||!0===t)});return n.length?" "+n.map(function(n){var t=e[n];if(!0===t)return""+C(n);if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("Unexpected prop type: "+typeof t);return C(n)+'="'+C(t.toString())+'"'}).join(" "):""}(t)+">"+o+"</"+n+">"}};t.d(n,"ElementNode",function(){return i}),t.d(n,"TextNode",function(){return c}),t.d(n,"FragmentNode",function(){return a}),t.d(n,"node",function(){return l}),t.d(n,"Fragment",function(){return s}),t.d(n,"dom",function(){return T}),t.d(n,"react",function(){return j}),t.d(n,"html",function(){return N})}])});
//# sourceMappingURL=jsx-pragmatic.min.js.map