{"version":3,"sources":["webpack://pragmatic/webpack/universalModuleDefinition","webpack://pragmatic/webpack/bootstrap","webpack://pragmatic/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://pragmatic/./src/node.js","webpack://pragmatic/./src/renderers/dom.js","webpack://pragmatic/./src/renderers/react.js","webpack://pragmatic/./src/renderers/html.js","webpack://pragmatic/./src/index.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_inheritsLoose","subClass","superClass","constructor","__proto__","Node","isElementNode","isTextNode","isFragmentNode","ElementNode","_Node","props","children","_this","onRender","_proto2","getTag","isTag","render","renderer","element","getText","Error","TextNode","_Node2","text","_this2","_proto3","FragmentNode","_Node3","_this3","_proto4","normalizeChild","child","Array","isArray","normalizeChildren","result","_i2","length","normalizedChild","_i4","_normalizedChild$chil2","subchild","push","node","_len","arguments","_key","TypeError","Fragment","keys","_len2","_key2","CREATE_ELEMENT","_CREATE_ELEMENT","_ref","_ref2","doc","createElement","ADD_CHILDREN","_ADD_CHILDREN","_ref5","el","firstChild","addEventListener","win","contentWindow","document","docElement","documentElement","removeChild","dom","appendChild","_ref6","_ref7","domRenderer","_i6","createTextNode","_temp","_ref9$doc","_ref3","_ref4","_Object$keys2","prop","val","match","slice","toLowerCase","setAttribute","toString","addProps","_ref8","html","ELEMENT_PROP","innerHTML","window","_el$querySelectorAll2","querySelectorAll","script","parentNode","newScript","textContent","replaceChild","fixScripts","addChildren","react","React","reactRenderer","renderedChildren","map","apply","concat","htmlEncode","replace","htmlRenderer","join","filter","propsToHTML","__webpack_exports__","node_ElementNode","node_TextNode","node_FragmentNode"],"mappings":"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","file":"jsx-pragmatic.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pragmatic\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pragmatic\"] = factory();\n\telse\n\t\troot[\"pragmatic\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","/* @flow */\n\nexport type NodePropsType = { [string] : mixed };\n// eslint-disable-next-line no-use-before-define\nexport type NodeType = ElementNode | TextNode | FragmentNode;\n// eslint-disable-next-line no-use-before-define\nexport type NodeChildrenType = $ReadOnlyArray<ElementNode | TextNode>;\nexport type NodeRenderer<T> = (string, NodePropsType, NodeChildrenType) => T;\nexport type NodeRendererFactory<T, O = Object> = (O | void) => NodeRenderer<T>;\n\nclass Node {\n    isElementNode() : boolean {\n        return false;\n    }\n\n    isTextNode() : boolean {\n        return false;\n    }\n\n    isFragmentNode() : boolean {\n        return false;\n    }\n}\n\nexport class ElementNode extends Node {\n    name : string\n    props : NodePropsType\n    children : NodeChildrenType\n    onRender : ?<T>(T) => void // eslint-disable-line no-undef\n\n    constructor(name : string, props : NodePropsType, children : NodeChildrenType) {\n        super();\n        this.name = name;\n        this.props = props;\n        this.children = children;\n\n        if (typeof props.onRender === 'function') {\n            this.onRender = props.onRender;\n            delete props.onRender;\n        }\n    }\n\n    getTag() : string {\n        return this.name;\n    }\n\n    isTag(name : string) : boolean {\n        return name === this.name;\n    }\n\n    isElementNode() : boolean {\n        return true;\n    }\n\n    render<T>(renderer : NodeRenderer<T>) : T {\n        const element = renderer(this.name, this.props, this.children);\n        if (this.onRender) {\n            this.onRender(element);\n        }\n        return element;\n    }\n\n    getText() : string {\n        throw new Error(`Can not get text of an element node`);\n    }\n}\n\nexport class TextNode extends Node {\n    text : string\n\n    constructor(text : string) {\n        super();\n        this.text = text;\n    }\n\n    getTag() : string {\n        throw new Error(`Can not get tag of text node`);\n    }\n\n    isTag(name : string) : boolean { // eslint-disable-line no-unused-vars\n        throw new Error(`Can not check tag of text node`);\n    }\n\n    isTextNode() : boolean {\n        return true;\n    }\n\n    render<T>(renderer : NodeRenderer<T>) : T { // eslint-disable-line no-unused-vars\n        throw new Error(`Can not render a text node`);\n    }\n\n    getText() : string {\n        return this.text;\n    }\n}\n\nexport class FragmentNode extends Node {\n    children : NodeChildrenType\n\n    constructor(children : NodeChildrenType) {\n        super();\n        this.children = children;\n    }\n\n    getTag() : string {\n        throw new Error(`Can not get tag of fragment node`);\n    }\n\n    isTag(name : string) : boolean { // eslint-disable-line no-unused-vars\n        throw new Error(`Can not check tag of fragment node`);\n    }\n\n    isFragmentNode() : boolean {\n        return true;\n    }\n\n    render<T>(renderer : NodeRenderer<T>) : $ReadOnlyArray<T> { // eslint-disable-line no-unused-vars\n        throw new Error(`Can not render a fragment node`);\n    }\n\n    getText() : string {\n        throw new Error(`Can not get text of a fragment node`);\n    }\n}\n\ntype JsxChildType = $ReadOnlyArray<JsxChildType> | NodeType | string;\ntype NullableJsxChildType = $ReadOnlyArray<NullableJsxChildType> | NodeType | string | null | void;\n\nfunction normalizeChild(child : NullableJsxChildType) : NodeType | void {\n    if (typeof child === 'string') {\n        return new TextNode(child);\n\n    } else if (child instanceof ElementNode || child instanceof TextNode || child instanceof FragmentNode) {\n        return child;\n\n    } else if (Array.isArray(child)) {\n        return new FragmentNode(normalizeChildren(child)); // eslint-disable-line no-use-before-define\n\n    } else if (child === null || typeof child === 'undefined') {\n        return; // eslint-disable-line no-useless-return\n\n    } else {\n        throw new Error(`Child node must be string or instance of jsx-pragmatic node; got ${ typeof child }`);\n    }\n}\n\nfunction normalizeChildren(children : $ReadOnlyArray<NullableJsxChildType>) : NodeChildrenType {\n    const result = [];\n\n    for (const child of children) {\n        const normalizedChild = normalizeChild(child);\n\n        if (!normalizedChild) {\n            continue;\n        }\n\n        if (normalizedChild instanceof FragmentNode) {\n            for (const subchild of normalizedChild.children) {\n                result.push(subchild);\n            }\n        } else {\n            result.push(normalizedChild);\n        }\n    }\n\n    return result;\n}\n\ntype JSXElementBuilder<P : NodePropsType> = (\n    element : string,\n    props : P | null,\n    ...children : $ReadOnlyArray<NullableJsxChildType>\n) => ElementNode;\n\ntype JSXElementFunctionBuilder<P : NodePropsType> = (\n    element : (P, $ReadOnlyArray<JsxChildType>) => ElementNode,\n    props : P | null,\n    ...children : $ReadOnlyArray<NullableJsxChildType>\n) => ElementNode;\n\ntype JSXTextFunctionBuilder<P : NodePropsType> = (\n    element : (P, $ReadOnlyArray<JsxChildType>) => string | TextNode,\n    props : P | null,\n    ...children : $ReadOnlyArray<NullableJsxChildType>\n) => TextNode;\n\ntype JSXFragmentFunctionBuilder<P : NodePropsType> = (\n    element : (P, $ReadOnlyArray<JsxChildType>) => FragmentNode | $ReadOnlyArray<NullableJsxChildType>,\n    props : P | null,\n    ...children : $ReadOnlyArray<NullableJsxChildType>\n) => FragmentNode;\n\ntype JSXEmptyFunctionBuilder<P : NodePropsType> = (\n    element : (P, $ReadOnlyArray<JsxChildType>) => null | void,\n    props : P | null,\n    ...children : $ReadOnlyArray<NullableJsxChildType>\n) => void;\n\ntype JSXBuilder<P : NodePropsType> = JSXElementBuilder<P> & JSXElementFunctionBuilder<P> & JSXTextFunctionBuilder<P> & JSXFragmentFunctionBuilder<P> & JSXEmptyFunctionBuilder<P>;\n\nexport const node : JSXBuilder<*> = <P : NodePropsType>(element, props : P | null, ...children) => {\n    if (typeof element === 'string') {\n        return new ElementNode(element, props || {}, normalizeChildren(children));\n    }\n\n    if (typeof element === 'function') {\n        // $FlowFixMe\n        return normalizeChild(element(props || {}, normalizeChildren(children)));\n    }\n    \n    throw new TypeError(`Expected jsx Element to be a string or a function`);\n};\n\nexport function Fragment(props : NodePropsType, ...children : $ReadOnlyArray<JsxChildType>) : FragmentNode {\n    \n    if (props && Object.keys(props).length) {\n        throw new Error(`Do not pass props to Fragment`);\n    }\n\n    return new FragmentNode(normalizeChildren(children));\n}\n","/* @flow */\n\nimport type { NodeChildrenType, NodePropsType, NodeRendererFactory, NodeRenderer } from '../node';\n\nconst ELEMENT_TAG = {\n    HTML:    'html',\n    IFRAME:  'iframe',\n    SCRIPT:  'script',\n    NODE:    'node',\n    DEFAULT: 'default'\n};\n\nconst ELEMENT_PROP = {\n    INNER_HTML: 'innerHTML',\n    EL:         'el'\n};\n\nfunction fixScripts(el : HTMLElement, doc : Document = window.document) {\n    for (const script of el.querySelectorAll('script')) {\n        const parentNode = script.parentNode;\n\n        if (!parentNode) {\n            continue;\n        }\n\n        const newScript = doc.createElement('script');\n        // $FlowFixMe\n        newScript.text = script.textContent;\n        parentNode.replaceChild(newScript, script);\n    }\n}\n\ntype CreateElementOptions = {|\n    doc : Document,\n    name : string,\n    props : NodePropsType\n|};\n\nconst CREATE_ELEMENT : { [string] : (CreateElementOptions) => HTMLElement } = {\n\n    [ ELEMENT_TAG.NODE ]: ({ props } : CreateElementOptions) => {\n        if (!props[ELEMENT_PROP.EL]) {\n            throw new Error(`Must pass ${ ELEMENT_PROP.EL } prop to ${ ELEMENT_TAG.NODE } element`);\n        }\n\n        if (Object.keys(props).length > 1) {\n            throw new Error(`Must not pass any prop other than ${ ELEMENT_PROP.EL } to ${ ELEMENT_TAG.NODE } element`);\n        }\n\n        // $FlowFixMe\n        return props[ELEMENT_PROP.EL];\n    },\n\n    [ ELEMENT_TAG.DEFAULT ]: ({ name, doc } : CreateElementOptions) => {\n        return doc.createElement(name);\n    }\n};\n\nfunction createElement({ doc, name, props } : CreateElementOptions) : HTMLElement {\n    const elementCreator = CREATE_ELEMENT[name] || CREATE_ELEMENT[ELEMENT_TAG.DEFAULT];\n    return elementCreator({ name, props, doc });\n}\n\ntype AddPropsOptions = {|\n    el : HTMLElement,\n    props : NodePropsType\n|};\n\nfunction addProps({ el, props } : AddPropsOptions) {\n    for (const prop of Object.keys(props)) {\n        const val = props[prop];\n\n        if (val === null || typeof val === 'undefined' || prop === ELEMENT_PROP.EL || prop === ELEMENT_PROP.INNER_HTML) {\n            continue;\n        }\n\n        if (prop.match(/^on[A-Z][a-z]/) && typeof val === 'function') {\n            el.addEventListener(prop.slice(2).toLowerCase(), val);\n        } else if (typeof val === 'string' || typeof val === 'number') {\n            el.setAttribute(prop, val.toString());\n\n        } else if (typeof val === 'boolean') {\n            if (val === true) {\n                el.setAttribute(prop, '');\n            }\n\n        } else {\n            throw new TypeError(`Can not render prop ${ prop } of type ${ typeof val }`);\n        }\n    }\n}\n\ntype AddChildrenOptions = {|\n    el : HTMLElement,\n    name : string,\n    children : NodeChildrenType,\n    doc : Document,\n    props : NodePropsType,\n    domRenderer : NodeRenderer<HTMLElement>\n|};\n\nconst ADD_CHILDREN : { [string] : (AddChildrenOptions) => void } = {\n\n    [ ELEMENT_TAG.IFRAME ]: ({ el, children } : AddChildrenOptions) => {\n        const firstChild = children[0];\n\n        if (children.length > 1 || !firstChild.isElementNode()) {\n            throw new Error(`Expected only single element node as child of ${ ELEMENT_TAG.IFRAME } element`);\n        }\n\n        if (!firstChild.isTag(ELEMENT_TAG.HTML)) {\n            throw new Error(`Expected element to be inserted into frame to be html, got ${ firstChild.getTag() }`);\n        }\n    \n        el.addEventListener('load', () => {\n\n            // $FlowFixMe\n            const win = el.contentWindow;\n    \n            if (!win) {\n                throw new Error(`Expected frame to have contentWindow`);\n            }\n\n            const doc = win.document;\n            const docElement = doc.documentElement;\n\n            while (docElement.children && docElement.children.length) {\n                docElement.removeChild(docElement.children[0]);\n            }\n\n            // eslint-disable-next-line no-use-before-define\n            const child = firstChild.render(dom({ doc }));\n        \n            while (child.children.length) {\n                docElement.appendChild(child.children[0]);\n            }\n        });\n    },\n\n    [ ELEMENT_TAG.SCRIPT ]: ({ el, children } : AddChildrenOptions) => {\n        const firstChild = children[0];\n\n        if (children.length !== 1 || !firstChild.isTextNode()) {\n            throw new Error(`Expected only single text node as child of ${ ELEMENT_TAG.SCRIPT } element`);\n        }\n        \n        // $FlowFixMe\n        el.text = firstChild.getText();\n    },\n\n    [ ELEMENT_TAG.DEFAULT ]: ({ el, children, doc, domRenderer } : AddChildrenOptions) => {\n        for (const child of children) {\n            if (child.isTextNode()) {\n                el.appendChild(doc.createTextNode(child.getText()));\n            } else {\n                el.appendChild(child.render(domRenderer));\n            }\n        }\n    }\n};\n\nfunction addChildren({ el, name, props, children, doc, domRenderer } : AddChildrenOptions) {\n    if (props.hasOwnProperty(ELEMENT_PROP.INNER_HTML)) {\n\n        if (children.length >= 1) {\n            throw new Error(`Expected no children to be passed when ${ ELEMENT_PROP.INNER_HTML } prop is set`);\n        }\n\n        const html = props[ELEMENT_PROP.INNER_HTML];\n\n        if (typeof html !== 'string') {\n            throw new TypeError(`${ ELEMENT_PROP.INNER_HTML } prop must be string`);\n        }\n\n        if (name === ELEMENT_TAG.SCRIPT) {\n            // $FlowFixMe\n            el.text = html;\n        } else {\n            el.innerHTML = html;\n            fixScripts(el, doc);\n        }\n\n    } else {\n        const addChildrenToElement = ADD_CHILDREN[name] || ADD_CHILDREN[ELEMENT_TAG.DEFAULT];\n        addChildrenToElement({ el, name, props, children, doc, domRenderer });\n    }\n}\n\n\nexport const dom : NodeRendererFactory<HTMLElement> = ({ doc = document } : { doc? : Document } = {}) => {\n    const domRenderer = (name, props, children) => {\n        const el = createElement({ name, props, doc });\n        addProps({ el, props });\n        addChildren({ el, name, props, children, doc, domRenderer });\n        return el;\n    };\n\n    return domRenderer;\n};\n","/* @flow */\n\nimport type { Node } from 'react'; // eslint-disable-line import/no-unresolved\n\nimport type { NodeRendererFactory } from '../node';\n\nexport const react : NodeRendererFactory<Node> = ({ React } = {}) => {\n    if (!React) {\n        throw new Error(`Must pass React library to react renderer`);\n    }\n\n    const reactRenderer = (name, props, children) => {\n        const renderedChildren = children.map(child => {\n            return child.isTextNode() ? child.getText() : child.render(reactRenderer);\n        });\n\n        return React.createElement(name, props, ...renderedChildren);\n    };\n\n    return reactRenderer;\n};\n","/* @flow */\n\nimport type { NodePropsType, NodeRendererFactory } from '../node';\n\nconst ELEMENT_PROP = {\n    INNER_HTML: 'innerHTML'\n};\n\nfunction htmlEncode(html : string) : string {\n    return html\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;')\n        .replace(/\\//g, '&#x2F;');\n}\n\nfunction propsToHTML(props : NodePropsType) : string {\n\n    const keys = Object.keys(props).filter(key => {\n        const val = props[key];\n\n        if (key === ELEMENT_PROP.INNER_HTML) {\n            return false;\n        }\n\n        if (!val) {\n            return false;\n        }\n\n        if (typeof val === 'string' || typeof val === 'number' || val === true) {\n            return true;\n        }\n\n        return false;\n    });\n\n    if (!keys.length) {\n        return '';\n    }\n\n    const pairs = keys.map(key => {\n        const val = props[key];\n\n        if (val === true) {\n            return `${ htmlEncode(key) }`;\n        }\n\n        if (typeof val !== 'string' && typeof val !== 'number') {\n            throw new TypeError(`Unexpected prop type: ${ typeof val }`);\n        }\n\n        return `${ htmlEncode(key) }=\"${ htmlEncode(val.toString()) }\"`;\n    });\n\n    return ` ${ pairs.join(' ') }`;\n}\n\nexport const html : NodeRendererFactory<string> = () => {\n\n    const htmlRenderer = (name, props, children) => {\n\n        const renderedChildren = (typeof props[ELEMENT_PROP.INNER_HTML] === 'string')\n            ? props[ELEMENT_PROP.INNER_HTML]\n            : children.map(child => {\n                return child.isTextNode() ? htmlEncode(child.getText()) : child.render(htmlRenderer);\n            }).join('');\n\n        return `<${ name }${ propsToHTML(props) }>${ renderedChildren }</${ name }>`;\n    };\n\n    return htmlRenderer;\n};\n","/* @flow */\n\nexport * from './node';\nexport * from './renderers';\n"],"sourceRoot":""}