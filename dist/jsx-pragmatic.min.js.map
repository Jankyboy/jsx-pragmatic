{"version":3,"sources":["webpack://pragmatic/webpack/universalModuleDefinition","webpack://pragmatic/webpack/bootstrap","webpack://pragmatic/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://pragmatic/./src/node.js","webpack://pragmatic/./src/renderers/dom.js","webpack://pragmatic/./src/renderers/react.js","webpack://pragmatic/./src/renderers/html.js","webpack://pragmatic/./src/index.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_inheritsLoose","subClass","superClass","constructor","__proto__","Node","isElementNode","isTextNode","isFragmentNode","ElementNode","_Node","props","children","_this","onRender","_proto2","getTag","isTag","render","renderer","element","getText","Error","TextNode","_Node2","text","_this2","_proto3","FragmentNode","_Node3","_this3","_proto4","normalizeChild","child","Array","isArray","normalizeChildren","result","_i2","length","normalizedChild","_i4","_normalizedChild$chil2","subchild","push","node","_len","arguments","_key","TypeError","Fragment","keys","_len2","_key2","DOM_EVENT","onBlur","onCancel","onClick","onClose","onContextMenu","onCopy","onCut","onAuxClick","onDoubleClick","onDragEnd","onDragStart","onDrop","onFocus","onInput","onInvalid","onKeyDown","onKeyPress","onKeyUp","onMouseDown","onMouseUp","onPaste","onPause","onPlay","onPointerCancel","onPointerDown","onPointerUp","onRateChange","onReset","onSeeked","onSubmit","onTouchCancel","onTouchEnd","onTouchStart","onVolumeChange","onAbort","onAnimationEnd","onAnimationIteration","onAnimationStart","onCanPlay","onCanPlayThrough","onDrag","onDragEnter","onDragExit","onDragLeave","onDragOver","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onGotPointerCapture","onLoad","onLoadedData","onLoadedMetadata","onLoadStart","onLostPointerCapture","onMouseMove","onMouseOut","onMouseOver","onPlaying","onPointerMove","onPointerOut","onPointerOver","onProgress","onScroll","onSeeking","onStalled","onSuspend","onTimeUpdate","onToggle","onTouchMove","onTransitionEnd","onWaiting","onWheel","CREATE_ELEMENT","_CREATE_ELEMENT","_ref","_ref2","doc","createElement","ADD_CHILDREN","_ADD_CHILDREN","_ref5","el","firstChild","addEventListener","win","contentWindow","document","docElement","documentElement","removeChild","dom","appendChild","_ref6","_ref7","domRenderer","_i6","createTextNode","_temp","_ref9$doc","_ref3","_ref4","_Object$keys2","prop","val","setAttribute","toString","addProps","_ref8","html","ELEMENT_PROP","innerHTML","window","_el$querySelectorAll2","querySelectorAll","script","parentNode","newScript","textContent","replaceChild","fixScripts","addChildren","react","React","reactRenderer","renderedChildren","map","apply","concat","htmlEncode","replace","htmlRenderer","join","filter","__webpack_exports__","node_ElementNode","node_TextNode","node_FragmentNode"],"mappings":"CAAA,SAAAA,EAAAC,GACA,iBAAAC,SAAA,iBAAAC,OACAA,OAAAD,QAAAD,IACA,mBAAAG,eAAAC,IACAD,OAAA,eAAAH,GACA,iBAAAC,QACAA,QAAA,UAAAD,IAEAD,EAAA,UAAAC,IARA,CASC,oBAAAK,UAAAC,KAAA,WACD,mBCTA,IAAAC,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAR,QAGA,IAAAC,EAAAK,EAAAE,GAAA,CACAC,EAAAD,EACAE,GAAA,EACAV,QAAA,IAUA,OANAW,EAAAH,GAAAI,KAAAX,EAAAD,QAAAC,IAAAD,QAAAO,GAGAN,EAAAS,GAAA,EAGAT,EAAAD,QA0DA,OArDAO,EAAAM,EAAAF,EAGAJ,EAAAO,EAAAR,EAGAC,EAAAQ,EAAA,SAAAf,EAAAgB,EAAAC,GACAV,EAAAW,EAAAlB,EAAAgB,IACAG,OAAAC,eAAApB,EAAAgB,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CV,EAAAgB,EAAA,SAAAvB,GACA,oBAAAwB,eAAAC,aACAN,OAAAC,eAAApB,EAAAwB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAApB,EAAA,cAAiD0B,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAQ,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAjC,GACA,IAAAgB,EAAAhB,KAAA4B,WACA,WAA2B,OAAA5B,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAM,EAAAQ,EAAAE,EAAA,IAAAA,GACAA,GAIAV,EAAAW,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD7B,EAAAgC,EAAA,GAIAhC,IAAAiC,EAAA,kCClFe,SAASC,EAAeC,EAAUC,GAC/CD,EAASL,UAAYlB,OAAOY,OAAOY,EAAWN,YAC9CK,EAASL,UAAUO,YAAcF,GACxBG,UAAYF,aCOjBG,sDACFC,yBACI,OAAO,KAGXC,sBACI,OAAO,KAGXC,0BACI,OAAO,QAIFC,EAAb,SAAAC,GAMI,SAAAD,EAAYlC,EAAeoC,EAAuBC,GAA6B,IAAAC,EAAA,OAC3EA,EAAAH,EAAAvC,KAAAP,aANJW,UAK+E,EAAAsC,EAJ/EF,WAI+E,EAAAE,EAH/ED,cAG+E,EAAAC,EAF/EC,cAE+E,EAE3ED,EAAKtC,KAAOA,EACZsC,EAAKF,MAAQA,EACbE,EAAKD,SAAWA,EAEc,mBAAnBD,EAAMG,WACbD,EAAKC,SAAWH,EAAMG,gBACfH,EAAMG,UAR0DD,EANnFb,EAAAS,EAAAC,GAAA,IAAAK,EAAAN,EAAAb,UAAA,OAAAmB,EAkBIC,OAlBJ,WAmBQ,OAAOpD,KAAKW,MAnBpBwC,EAsBIE,MAtBJ,SAsBU1C,GACF,OAAOA,IAASX,KAAKW,MAvB7BwC,EA0BIT,cA1BJ,WA2BQ,OAAO,GA3BfS,EA8BIG,OA9BJ,SA8BcC,GACN,IAAMC,EAAUD,EAASvD,KAAKW,KAAMX,KAAK+C,MAAO/C,KAAKgD,UAIrD,OAHIhD,KAAKkD,UACLlD,KAAKkD,SAASM,GAEXA,GAnCfL,EAsCIM,QAtCJ,WAuCQ,MAAM,IAAIC,MAAJ,wCAvCdb,EAAA,CAAiCJ,GA2CpBkB,EAAb,SAAAC,GAGI,SAAAD,EAAYE,GAAe,IAAAC,EAAA,OACvBA,EAAAF,EAAArD,KAAAP,aAHJ6D,UAE2B,EAEvBC,EAAKD,KAAOA,EAFWC,EAH/B1B,EAAAuB,EAAAC,GAAA,IAAAG,EAAAJ,EAAA3B,UAAA,OAAA+B,EAQIX,OARJ,WASQ,MAAM,IAAIM,MAAJ,iCATdK,EAYIV,MAZJ,SAYU1C,GACF,MAAM,IAAI+C,MAAJ,mCAbdK,EAgBIpB,WAhBJ,WAiBQ,OAAO,GAjBfoB,EAoBIT,OApBJ,SAoBcC,GACN,MAAM,IAAIG,MAAJ,+BArBdK,EAwBIN,QAxBJ,WAyBQ,OAAOzD,KAAK6D,MAzBpBF,EAAA,CAA8BlB,GA6BjBuB,EAAb,SAAAC,GAGI,SAAAD,EAAYhB,GAA6B,IAAAkB,EAAA,OACrCA,EAAAD,EAAA1D,KAAAP,aAHJgD,cAEyC,EAErCkB,EAAKlB,SAAWA,EAFqBkB,EAH7C9B,EAAA4B,EAAAC,GAAA,IAAAE,EAAAH,EAAAhC,UAAA,OAAAmC,EAQIf,OARJ,WASQ,MAAM,IAAIM,MAAJ,qCATdS,EAYId,MAZJ,SAYU1C,GACF,MAAM,IAAI+C,MAAJ,uCAbdS,EAgBIvB,eAhBJ,WAiBQ,OAAO,GAjBfuB,EAoBIb,OApBJ,SAoBcC,GACN,MAAM,IAAIG,MAAJ,mCArBdS,EAwBIV,QAxBJ,WAyBQ,MAAM,IAAIC,MAAJ,wCAzBdM,EAAA,CAAkCvB,GAgClC,SAAS2B,EAAeC,GACpB,GAAqB,iBAAVA,EACP,OAAO,IAAIV,EAASU,GAEjB,GAAIA,aAAiBxB,GAAewB,aAAiBV,GAAYU,aAAiBL,EACrF,OAAOK,EAEJ,GAAIC,MAAMC,QAAQF,GACrB,OAAO,IAAIL,EAAaQ,EAAkBH,IAEvC,GAAIA,QAIP,MAAM,IAAIX,MAAJ,2EAAsFW,GAIpG,SAASG,EAAkBxB,GAAoE,IAC3F,IAAMyB,EAAS,GAD4EC,EAAA,EAAAA,EAGvE1B,EAHuE2B,OAAAD,IAG7D,CAAzB,IACKE,EAAkBR,EADRpB,EAAJ0B,IAGZ,GAAKE,EAIL,GAAIA,aAA2BZ,EAAc,QAAAa,EAAA,EAAAC,EAClBF,EAAgB5B,SADE6B,EAAAC,EAAAH,OAAAE,IACQ,CAA5C,IAAME,EAAQD,EAAAD,GACfJ,EAAOO,KAAKD,QAGhBN,EAAOO,KAAKJ,GAIpB,OAAOH,EAmCJ,QAAMQ,EAAuB,SAAoBzB,EAAST,GAAkC,QAAAmC,EAAAC,UAAAR,OAAb3B,EAAa,IAAAsB,MAAA,EAAAY,IAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAbpC,EAAaoC,EAAA,GAAAD,UAAAC,GAC/F,GAAuB,iBAAZ5B,EACP,OAAO,IAAIX,EAAYW,EAAST,GAAS,GAAIyB,EAAkBxB,IAGnE,GAAuB,mBAAZQ,EAEP,OAAOY,EAAeZ,EAAQT,GAAS,GAAIyB,EAAkBxB,KAGjE,MAAM,IAAIqC,UAAJ,sDAGH,SAASC,EAASvC,GAErB,GAAIA,GAASjC,OAAOyE,KAAKxC,GAAO4B,OAC5B,MAAM,IAAIjB,MAAJ,iCAH6F,QAAA8B,EAAAL,UAAAR,OAAxD3B,EAAwD,IAAAsB,MAAA,EAAAkB,IAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAxDzC,EAAwDyC,EAAA,GAAAN,UAAAM,GAMvG,OAAO,IAAIzB,EAAaQ,EAAkBxB,ICvN9C,IAaM0C,EAAY,CACdC,OAAsB,OACtBC,SAAsB,SACtBC,QAAsB,QACtBC,QAAsB,QACtBC,cAAsB,cACtBC,OAAsB,OACtBC,MAAsB,MACtBC,WAAsB,WACtBC,cAAsB,cACtBC,UAAsB,UACtBC,YAAsB,YACtBC,OAAsB,OACtBC,QAAsB,QACtBC,QAAsB,QACtBC,UAAsB,UACtBC,UAAsB,UACtBC,WAAsB,WACtBC,QAAsB,QACtBC,YAAsB,YACtBC,UAAsB,UACtBC,QAAsB,QACtBC,QAAsB,QACtBC,OAAsB,OACtBC,gBAAsB,gBACtBC,cAAsB,cACtBC,YAAsB,YACtBC,aAAsB,aACtBC,QAAsB,QACtBC,SAAsB,SACtBC,SAAsB,SACtBC,cAAsB,cACtBC,WAAsB,WACtBC,aAAsB,aACtBC,eAAsB,eACtBC,QAAsB,QACtBC,eAAsB,eACtBC,qBAAsB,qBACtBC,iBAAsB,iBACtBC,UAAsB,UACtBC,iBAAsB,iBACtBC,OAAsB,OACtBC,YAAsB,YACtBC,WAAsB,WACtBC,YAAsB,YACtBC,WAAsB,WACtBC,iBAAsB,iBACtBC,UAAsB,UACtBC,YAAsB,YACtBC,QAAsB,QACtBC,QAAsB,QACtBC,oBAAsB,oBACtBC,OAAsB,OACtBC,aAAsB,aACtBC,iBAAsB,iBACtBC,YAAsB,YACtBC,qBAAsB,qBACtBC,YAAsB,YACtBC,WAAsB,WACtBC,YAAsB,YACtBC,UAAsB,UACtBC,cAAsB,cACtBC,aAAsB,aACtBC,cAAsB,cACtBC,WAAsB,WACtBC,SAAsB,SACtBC,UAAsB,UACtBC,UAAsB,UACtBC,UAAsB,UACtBC,aAAsB,aACtBC,SAAsB,SACtBC,YAAsB,YACtBC,gBAAsB,gBACtBC,UAAsB,UACtBC,QAAsB,SAwBpBC,IAAqEC,EAAA,SAEjD,SAAAC,GAAsC,IAAnCxH,EAAmCwH,EAAnCxH,MACrB,IAAKA,EAAK,GACN,MAAM,IAAIW,MAAJ,qCAGV,GAAgC,EAA5B5C,OAAOyE,KAAKxC,GAAO4B,OACnB,MAAM,IAAIjB,MAAJ,wDAIV,OAAOX,EAAK,IAZuDuH,EAAA,QAe9C,SAAAE,GAA0C,IAAvC7J,EAAuC6J,EAAvC7J,KACxB,OAD+D6J,EAAjCC,IACnBC,cAAc/J,IAhB0C2J,GAoErEK,IAA0DC,EAAA,WAEpC,SAAAC,GAA2C,IAAxCC,EAAwCD,EAAxCC,GAAI9H,EAAoC6H,EAApC7H,SACrB+H,EAAa/H,EAAS,GAE5B,GAAsB,EAAlBA,EAAS2B,SAAeoG,EAAWrI,gBACnC,MAAM,IAAIgB,MAAJ,gEAGV,IAAKqH,EAAW1H,MA3LX,QA4LD,MAAM,IAAIK,MAAJ,8DAAyEqH,EAAW3H,UAG9F0H,EAAGE,iBAAiB,OAAQ,WAGxB,IAAMC,EAAMH,EAAGI,cAEf,IAAKD,EACD,MAAM,IAAIvH,MAAJ,wCAMV,IAHA,IAAM+G,EAAMQ,EAAIE,SACVC,EAAaX,EAAIY,gBAEhBD,EAAWpI,UAAYoI,EAAWpI,SAAS2B,QAC9CyG,EAAWE,YAAYF,EAAWpI,SAAS,IAM/C,IAFA,IAAMqB,EAAQ0G,EAAWzH,OAAOiI,EAAI,CAAEd,SAE/BpG,EAAMrB,SAAS2B,QAClByG,EAAWI,YAAYnH,EAAMrB,SAAS,OAjCU4H,EAAA,OAsCpC,SAAAa,GAA2C,IAAxCX,EAAwCW,EAAxCX,GAAI9H,EAAoCyI,EAApCzI,SACrB+H,EAAa/H,EAAS,GAE5B,GAAwB,IAApBA,EAAS2B,SAAiBoG,EAAWpI,aACrC,MAAM,IAAIe,MAAJ,6DAIVoH,EAAGjH,KAAOkH,EAAWtH,WA9CmCmH,EAAA,QAiDnC,SAAAc,GAA6D,QAA1DZ,EAA0DY,EAA1DZ,GAAI9H,EAAsD0I,EAAtD1I,SAAUyH,EAA4CiB,EAA5CjB,IAAKkB,EAAuCD,EAAvCC,YAAuCC,EAAA,EAAAA,EAC9D5I,EAD8D2B,OAAAiH,IACpD,CAAzB,IAAMvH,EAASrB,EAAJ4I,GACRvH,EAAM1B,aACNmI,EAAGU,YAAYf,EAAIoB,eAAexH,EAAMZ,YAExCqH,EAAGU,YAAYnH,EAAMf,OAAOqI,MAtDoBf,GAwFnDW,EAAyC,SAAAO,GAAmD,IAAAC,QAAA,IAAAD,EAAP,GAAOA,GAAhDrB,WAAgD,IAAAsB,EAA1CZ,SAA0CY,EAQrG,OAPoB,SAAdJ,EAAehL,EAAMoC,EAAOC,GAC9B,IA1IRgJ,EAAyBvB,EAAK9J,EAAMoC,EA0ItB+H,GA1IWL,GAAzBuB,EA0IiC,CAAErL,OAAMoC,QAAO0H,QA1IvBA,IAAW1H,EAA8CiJ,EAA9CjJ,OACTsH,EADG1J,EAAoDqL,EAApDrL,OACqB0J,EAAc,SACvC,CAAE1J,OAAMoC,QAAO0H,SA2IjC,OAnIR,SAAAwB,GAAmD,QAA/BnB,EAA+BmB,EAA/BnB,GAAI/H,EAA2BkJ,EAA3BlJ,MAA2B8B,EAAA,EAAAqH,EAC5BpL,OAAOyE,KAAKxC,GADgB8B,EAAAqH,EAAAvH,OAAAE,IACR,CAAlC,IAAMsH,EAAID,EAAArH,GACLuH,EAAMrJ,EAAMoJ,GAElB,GAAIC,SAvII,OAuI0CD,GAxI1C,cAwIsEA,EAI9E,GAAIzG,EAAUzD,eAAekK,GAAO,CAChC,QAAmB,IAARC,GAAsC,mBAARA,EACrC,MAAM,IAAI/G,UAAJ,QAAuB8G,EAAvB,qBAGVrB,EAAGE,iBAAiBtF,EAAUyG,GAAOC,QAElC,GAAmB,iBAARA,GAAmC,iBAARA,EACzCtB,EAAGuB,aAAaF,EAAMC,EAAIE,gBAEvB,IAAmB,kBAARF,EAMd,MAAM,IAAI/G,UAAJ,uBAAsC8G,EAAtC,mBAA+DC,IALzD,IAARA,GACAtB,EAAGuB,aAAaF,EAAM,MA6G9BI,CAAS,CAAEzB,KAAI/H,UA/BvB,SAAAyJ,GAA2F,IAApE1B,EAAoE0B,EAApE1B,GAAInK,EAAgE6L,EAAhE7L,KAAMoC,EAA0DyJ,EAA1DzJ,MAAOC,EAAmDwJ,EAAnDxJ,SAAUyH,EAAyC+B,EAAzC/B,IAAKkB,EAAoCa,EAApCb,YACnD,GAAI5I,EAAMd,eAvOE,aAuOuC,CAE/C,GAAuB,GAAnBe,EAAS2B,OACT,MAAM,IAAIjB,MAAJ,gEAGV,IAAM+I,EAAO1J,EAAK,UAElB,GAAoB,iBAAT0J,EACP,MAAM,IAAIpH,UAAcqH,iCAtPvB,WAyPD/L,EAEAmK,EAAGjH,KAAO4I,GAEV3B,EAAG6B,UAAYF,EAtK3B,SAAoB3B,EAAkBL,QAAkC,IAAlCA,MAAiBmC,OAAOzB,UAAU,QAAAzG,EAAA,EAAAmI,EAC/C/B,EAAGgC,iBAAiB,UAD2BpI,EAAAmI,EAAAlI,OAAAD,IAChB,CAA/C,IAAMqI,EAAMF,EAAAnI,GACPsI,EAAaD,EAAOC,WAE1B,GAAKA,EAAL,CAIA,IAAMC,EAAYxC,EAAIC,cAAc,UAEpCuC,EAAUpJ,KAAOkJ,EAAOG,YACxBF,EAAWG,aAAaF,EAAWF,KA4J/BK,CAAWtC,EAAIL,SAIUE,EAAahK,IAASgK,EAAY,SAC1C,CAAEG,KAAInK,OAAMoC,QAAOC,WAAUyH,MAAKkB,gBASvD0B,CAAY,CAAEvC,KAAInK,OAAMoC,QAAOC,WAAUyH,MAAKkB,gBACvCb,IC9QFwC,EAAoC,SAAAxB,GAAoB,IAAjByB,QAAiB,IAAAzB,EAAP,GAAOA,GAAjByB,MAChD,IAAKA,EACD,MAAM,IAAI7J,MAAJ,6CAWV,OARsB,SAAhB8J,EAAiB7M,EAAMoC,EAAOC,GAChC,IAAMyK,EAAmBzK,EAAS0K,IAAI,SAAArJ,GAClC,OAAOA,EAAM1B,aAAe0B,EAAMZ,UAAYY,EAAMf,OAAOkK,KAG/D,OAAOD,EAAM7C,cAANiD,MAAAJ,EAAK,CAAe5M,EAAMoC,GAArB6K,OAA+BH,MCRnD,SAASI,EAAWpB,GAChB,OAAOA,EACFqB,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,UACdA,QAAQ,KAAM,SACdA,QAAQ,MAAO,UA4CjB,IAAMrB,EAAqC,WAa9C,OAXqB,SAAfsB,EAAgBpN,EAAMoC,EAAOC,GAE/B,IA7CaD,EAEXwC,EA2CIkI,EAA8D,iBAAnC1K,EAAK,UAChCA,EAAK,UACLC,EAAS0K,IAAI,SAAArJ,GACX,OAAOA,EAAM1B,aAAekL,EAAWxJ,EAAMZ,WAAaY,EAAMf,OAAOyK,KACxEC,KAAK,IAEZ,UAAYrN,GAnDCoC,EAmDoBA,GAjD/BwC,EAAOzE,OAAOyE,KAAKxC,GAAOkL,OAAO,SAAAtM,GACnC,IAAMyK,EAAMrJ,EAAMpB,GAElB,MAlBQ,cAkBJA,KAICyK,IAIc,iBAARA,GAAmC,iBAARA,IAA4B,IAARA,MAOpDzH,OAkBV,IAdcY,EAAKmI,IAAI,SAAA/L,GACnB,IAAMyK,EAAMrJ,EAAMpB,GAElB,IAAY,IAARyK,EACA,SAAWyB,EAAWlM,GAG1B,GAAmB,iBAARyK,GAAmC,iBAARA,EAClC,MAAM,IAAI/G,UAAJ,gCAA+C+G,GAGzD,OAAWyB,EAAWlM,GAAtB,KAAiCkM,EAAWzB,EAAIE,YAAhD,MAGc0B,KAAK,KAjBZ,IA8BP,IAA6CP,EAA7C,KAAoE9M,EAApE,MCnERT,EAAAQ,EAAAwN,EAAA,gCAAAC,IAAAjO,EAAAQ,EAAAwN,EAAA,6BAAAE,IAAAlO,EAAAQ,EAAAwN,EAAA,iCAAAG,IAAAnO,EAAAQ,EAAAwN,EAAA,yBAAAjJ,IAAA/E,EAAAQ,EAAAwN,EAAA,6BAAA5I,IAAApF,EAAAQ,EAAAwN,EAAA,wBAAA3C,IAAArL,EAAAQ,EAAAwN,EAAA,0BAAAZ,IAAApN,EAAAQ,EAAAwN,EAAA,yBAAAzB","file":"jsx-pragmatic.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pragmatic\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pragmatic\"] = factory();\n\telse\n\t\troot[\"pragmatic\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","/* @flow */\n\nexport type NodePropsType = { [string] : mixed };\n// eslint-disable-next-line no-use-before-define\nexport type NodeType = ElementNode | TextNode | FragmentNode;\n// eslint-disable-next-line no-use-before-define\nexport type NodeChildrenType = $ReadOnlyArray<ElementNode | TextNode>;\nexport type NodeRenderer<T> = (string, NodePropsType, NodeChildrenType) => T;\nexport type NodeRendererFactory<T, O = Object> = (O | void) => NodeRenderer<T>;\n\nclass Node {\n    isElementNode() : boolean {\n        return false;\n    }\n\n    isTextNode() : boolean {\n        return false;\n    }\n\n    isFragmentNode() : boolean {\n        return false;\n    }\n}\n\nexport class ElementNode extends Node {\n    name : string\n    props : NodePropsType\n    children : NodeChildrenType\n    onRender : ?<T>(T) => void // eslint-disable-line no-undef\n\n    constructor(name : string, props : NodePropsType, children : NodeChildrenType) {\n        super();\n        this.name = name;\n        this.props = props;\n        this.children = children;\n\n        if (typeof props.onRender === 'function') {\n            this.onRender = props.onRender;\n            delete props.onRender;\n        }\n    }\n\n    getTag() : string {\n        return this.name;\n    }\n\n    isTag(name : string) : boolean {\n        return name === this.name;\n    }\n\n    isElementNode() : boolean {\n        return true;\n    }\n\n    render<T>(renderer : NodeRenderer<T>) : T {\n        const element = renderer(this.name, this.props, this.children);\n        if (this.onRender) {\n            this.onRender(element);\n        }\n        return element;\n    }\n\n    getText() : string {\n        throw new Error(`Can not get text of an element node`);\n    }\n}\n\nexport class TextNode extends Node {\n    text : string\n\n    constructor(text : string) {\n        super();\n        this.text = text;\n    }\n\n    getTag() : string {\n        throw new Error(`Can not get tag of text node`);\n    }\n\n    isTag(name : string) : boolean { // eslint-disable-line no-unused-vars\n        throw new Error(`Can not check tag of text node`);\n    }\n\n    isTextNode() : boolean {\n        return true;\n    }\n\n    render<T>(renderer : NodeRenderer<T>) : T { // eslint-disable-line no-unused-vars\n        throw new Error(`Can not render a text node`);\n    }\n\n    getText() : string {\n        return this.text;\n    }\n}\n\nexport class FragmentNode extends Node {\n    children : NodeChildrenType\n\n    constructor(children : NodeChildrenType) {\n        super();\n        this.children = children;\n    }\n\n    getTag() : string {\n        throw new Error(`Can not get tag of fragment node`);\n    }\n\n    isTag(name : string) : boolean { // eslint-disable-line no-unused-vars\n        throw new Error(`Can not check tag of fragment node`);\n    }\n\n    isFragmentNode() : boolean {\n        return true;\n    }\n\n    render<T>(renderer : NodeRenderer<T>) : $ReadOnlyArray<T> { // eslint-disable-line no-unused-vars\n        throw new Error(`Can not render a fragment node`);\n    }\n\n    getText() : string {\n        throw new Error(`Can not get text of a fragment node`);\n    }\n}\n\ntype JsxChildType = $ReadOnlyArray<JsxChildType> | NodeType | string;\ntype NullableJsxChildType = $ReadOnlyArray<NullableJsxChildType> | NodeType | string | null | void;\n\nfunction normalizeChild(child : NullableJsxChildType) : NodeType | void {\n    if (typeof child === 'string') {\n        return new TextNode(child);\n\n    } else if (child instanceof ElementNode || child instanceof TextNode || child instanceof FragmentNode) {\n        return child;\n\n    } else if (Array.isArray(child)) {\n        return new FragmentNode(normalizeChildren(child)); // eslint-disable-line no-use-before-define\n\n    } else if (child === null || typeof child === 'undefined') {\n        return; // eslint-disable-line no-useless-return\n\n    } else {\n        throw new Error(`Child node must be string or instance of jsx-pragmatic node; got ${ typeof child }`);\n    }\n}\n\nfunction normalizeChildren(children : $ReadOnlyArray<NullableJsxChildType>) : NodeChildrenType {\n    const result = [];\n\n    for (const child of children) {\n        const normalizedChild = normalizeChild(child);\n\n        if (!normalizedChild) {\n            continue;\n        }\n\n        if (normalizedChild instanceof FragmentNode) {\n            for (const subchild of normalizedChild.children) {\n                result.push(subchild);\n            }\n        } else {\n            result.push(normalizedChild);\n        }\n    }\n\n    return result;\n}\n\ntype JSXElementBuilder<P : NodePropsType> = (\n    element : string,\n    props : P | null,\n    ...children : $ReadOnlyArray<NullableJsxChildType>\n) => ElementNode;\n\ntype JSXElementFunctionBuilder<P : NodePropsType> = (\n    element : (P, $ReadOnlyArray<JsxChildType>) => ElementNode,\n    props : P | null,\n    ...children : $ReadOnlyArray<NullableJsxChildType>\n) => ElementNode;\n\ntype JSXTextFunctionBuilder<P : NodePropsType> = (\n    element : (P, $ReadOnlyArray<JsxChildType>) => string | TextNode,\n    props : P | null,\n    ...children : $ReadOnlyArray<NullableJsxChildType>\n) => TextNode;\n\ntype JSXFragmentFunctionBuilder<P : NodePropsType> = (\n    element : (P, $ReadOnlyArray<JsxChildType>) => FragmentNode | $ReadOnlyArray<NullableJsxChildType>,\n    props : P | null,\n    ...children : $ReadOnlyArray<NullableJsxChildType>\n) => FragmentNode;\n\ntype JSXEmptyFunctionBuilder<P : NodePropsType> = (\n    element : (P, $ReadOnlyArray<JsxChildType>) => null | void,\n    props : P | null,\n    ...children : $ReadOnlyArray<NullableJsxChildType>\n) => void;\n\ntype JSXBuilder<P : NodePropsType> = JSXElementBuilder<P> & JSXElementFunctionBuilder<P> & JSXTextFunctionBuilder<P> & JSXFragmentFunctionBuilder<P> & JSXEmptyFunctionBuilder<P>;\n\nexport const node : JSXBuilder<*> = <P : NodePropsType>(element, props : P | null, ...children) => {\n    if (typeof element === 'string') {\n        return new ElementNode(element, props || {}, normalizeChildren(children));\n    }\n\n    if (typeof element === 'function') {\n        // $FlowFixMe\n        return normalizeChild(element(props || {}, normalizeChildren(children)));\n    }\n    \n    throw new TypeError(`Expected jsx Element to be a string or a function`);\n};\n\nexport function Fragment(props : NodePropsType, ...children : $ReadOnlyArray<JsxChildType>) : FragmentNode {\n    \n    if (props && Object.keys(props).length) {\n        throw new Error(`Do not pass props to Fragment`);\n    }\n\n    return new FragmentNode(normalizeChildren(children));\n}\n","/* @flow */\n\nimport type { NodeChildrenType, NodePropsType, NodeRendererFactory, NodeRenderer } from '../node';\n\nconst ELEMENT_TAG = {\n    HTML:    'html',\n    IFRAME:  'iframe',\n    SCRIPT:  'script',\n    NODE:    'node',\n    DEFAULT: 'default'\n};\n\nconst ELEMENT_PROP = {\n    INNER_HTML: 'innerHTML',\n    EL:         'el'\n};\n\nconst DOM_EVENT = {\n    onBlur:               'blur',\n    onCancel:             'cancel',\n    onClick:              'click',\n    onClose:              'close',\n    onContextMenu:        'contextMenu',\n    onCopy:               'copy',\n    onCut:                'cut',\n    onAuxClick:           'auxClick',\n    onDoubleClick:        'doubleClick',\n    onDragEnd:            'dragEnd',\n    onDragStart:          'dragStart',\n    onDrop:               'drop',\n    onFocus:              'focus',\n    onInput:              'input',\n    onInvalid:            'invalid',\n    onKeyDown:            'keyDown',\n    onKeyPress:           'keyPress',\n    onKeyUp:              'keyUp',\n    onMouseDown:          'mouseDown',\n    onMouseUp:            'mouseUp',\n    onPaste:              'paste',\n    onPause:              'pause',\n    onPlay:               'play',\n    onPointerCancel:      'pointerCancel',\n    onPointerDown:        'pointerDown',\n    onPointerUp:          'pointerUp',\n    onRateChange:         'rateChange',\n    onReset:              'reset',\n    onSeeked:             'seeked',\n    onSubmit:             'submit',\n    onTouchCancel:        'touchCancel',\n    onTouchEnd:           'touchEnd',\n    onTouchStart:         'touchStart',\n    onVolumeChange:       'volumeChange',\n    onAbort:              'abort',\n    onAnimationEnd:       'animationEnd',\n    onAnimationIteration: 'animationIteration',\n    onAnimationStart:     'animationStart',\n    onCanPlay:            'canPlay',\n    onCanPlayThrough:     'canPlayThrough',\n    onDrag:               'drag',\n    onDragEnter:          'dragEnter',\n    onDragExit:           'dragExit',\n    onDragLeave:          'dragLeave',\n    onDragOver:           'dragOver',\n    onDurationChange:     'durationChange',\n    onEmptied:            'emptied',\n    onEncrypted:          'encrypted',\n    onEnded:              'ended',\n    onError:              'error',\n    onGotPointerCapture:  'gotPointerCapture',\n    onLoad:               'load',\n    onLoadedData:         'loadedData',\n    onLoadedMetadata:     'loadedMetadata',\n    onLoadStart:          'loadStart',\n    onLostPointerCapture: 'lostPointerCapture',\n    onMouseMove:          'mouseMove',\n    onMouseOut:           'mouseOut',\n    onMouseOver:          'mouseOver',\n    onPlaying:            'playing',\n    onPointerMove:        'pointerMove',\n    onPointerOut:         'pointerOut',\n    onPointerOver:        'pointerOver',\n    onProgress:           'progress',\n    onScroll:             'scroll',\n    onSeeking:            'seeking',\n    onStalled:            'stalled',\n    onSuspend:            'suspend',\n    onTimeUpdate:         'timeUpdate',\n    onToggle:             'toggle',\n    onTouchMove:          'touchMove',\n    onTransitionEnd:      'transitionEnd',\n    onWaiting:            'waiting',\n    onWheel:              'wheel'\n};\n\nfunction fixScripts(el : HTMLElement, doc : Document = window.document) {\n    for (const script of el.querySelectorAll('script')) {\n        const parentNode = script.parentNode;\n\n        if (!parentNode) {\n            continue;\n        }\n\n        const newScript = doc.createElement('script');\n        // $FlowFixMe\n        newScript.text = script.textContent;\n        parentNode.replaceChild(newScript, script);\n    }\n}\n\ntype CreateElementOptions = {|\n    doc : Document,\n    name : string,\n    props : NodePropsType\n|};\n\nconst CREATE_ELEMENT : { [string] : (CreateElementOptions) => HTMLElement } = {\n\n    [ ELEMENT_TAG.NODE ]: ({ props } : CreateElementOptions) => {\n        if (!props[ELEMENT_PROP.EL]) {\n            throw new Error(`Must pass ${ ELEMENT_PROP.EL } prop to ${ ELEMENT_TAG.NODE } element`);\n        }\n\n        if (Object.keys(props).length > 1) {\n            throw new Error(`Must not pass any prop other than ${ ELEMENT_PROP.EL } to ${ ELEMENT_TAG.NODE } element`);\n        }\n\n        // $FlowFixMe\n        return props[ELEMENT_PROP.EL];\n    },\n\n    [ ELEMENT_TAG.DEFAULT ]: ({ name, doc } : CreateElementOptions) => {\n        return doc.createElement(name);\n    }\n};\n\nfunction createElement({ doc, name, props } : CreateElementOptions) : HTMLElement {\n    const elementCreator = CREATE_ELEMENT[name] || CREATE_ELEMENT[ELEMENT_TAG.DEFAULT];\n    return elementCreator({ name, props, doc });\n}\n\ntype AddPropsOptions = {|\n    el : HTMLElement,\n    props : NodePropsType\n|};\n\nfunction addProps({ el, props } : AddPropsOptions) {\n    for (const prop of Object.keys(props)) {\n        const val = props[prop];\n\n        if (val === null || typeof val === 'undefined' || prop === ELEMENT_PROP.EL || prop === ELEMENT_PROP.INNER_HTML) {\n            continue;\n        }\n\n        if (DOM_EVENT.hasOwnProperty(prop)) {\n            if (typeof val !== 'undefined' && typeof val !== 'function') {\n                throw new TypeError(`Prop ${ prop } must be function`);\n            }\n\n            el.addEventListener(DOM_EVENT[prop], val);\n\n        } else if (typeof val === 'string' || typeof val === 'number') {\n            el.setAttribute(prop, val.toString());\n\n        } else if (typeof val === 'boolean') {\n            if (val === true) {\n                el.setAttribute(prop, '');\n            }\n\n        } else {\n            throw new TypeError(`Can not render prop ${ prop } of type ${ typeof val }`);\n        }\n    }\n}\n\ntype AddChildrenOptions = {|\n    el : HTMLElement,\n    name : string,\n    children : NodeChildrenType,\n    doc : Document,\n    props : NodePropsType,\n    domRenderer : NodeRenderer<HTMLElement>\n|};\n\nconst ADD_CHILDREN : { [string] : (AddChildrenOptions) => void } = {\n\n    [ ELEMENT_TAG.IFRAME ]: ({ el, children } : AddChildrenOptions) => {\n        const firstChild = children[0];\n\n        if (children.length > 1 || !firstChild.isElementNode()) {\n            throw new Error(`Expected only single element node as child of ${ ELEMENT_TAG.IFRAME } element`);\n        }\n\n        if (!firstChild.isTag(ELEMENT_TAG.HTML)) {\n            throw new Error(`Expected element to be inserted into frame to be html, got ${ firstChild.getTag() }`);\n        }\n    \n        el.addEventListener('load', () => {\n\n            // $FlowFixMe\n            const win = el.contentWindow;\n    \n            if (!win) {\n                throw new Error(`Expected frame to have contentWindow`);\n            }\n\n            const doc = win.document;\n            const docElement = doc.documentElement;\n\n            while (docElement.children && docElement.children.length) {\n                docElement.removeChild(docElement.children[0]);\n            }\n\n            // eslint-disable-next-line no-use-before-define\n            const child = firstChild.render(dom({ doc }));\n        \n            while (child.children.length) {\n                docElement.appendChild(child.children[0]);\n            }\n        });\n    },\n\n    [ ELEMENT_TAG.SCRIPT ]: ({ el, children } : AddChildrenOptions) => {\n        const firstChild = children[0];\n\n        if (children.length !== 1 || !firstChild.isTextNode()) {\n            throw new Error(`Expected only single text node as child of ${ ELEMENT_TAG.SCRIPT } element`);\n        }\n        \n        // $FlowFixMe\n        el.text = firstChild.getText();\n    },\n\n    [ ELEMENT_TAG.DEFAULT ]: ({ el, children, doc, domRenderer } : AddChildrenOptions) => {\n        for (const child of children) {\n            if (child.isTextNode()) {\n                el.appendChild(doc.createTextNode(child.getText()));\n            } else {\n                el.appendChild(child.render(domRenderer));\n            }\n        }\n    }\n};\n\nfunction addChildren({ el, name, props, children, doc, domRenderer } : AddChildrenOptions) {\n    if (props.hasOwnProperty(ELEMENT_PROP.INNER_HTML)) {\n\n        if (children.length >= 1) {\n            throw new Error(`Expected no children to be passed when ${ ELEMENT_PROP.INNER_HTML } prop is set`);\n        }\n\n        const html = props[ELEMENT_PROP.INNER_HTML];\n\n        if (typeof html !== 'string') {\n            throw new TypeError(`${ ELEMENT_PROP.INNER_HTML } prop must be string`);\n        }\n\n        if (name === ELEMENT_TAG.SCRIPT) {\n            // $FlowFixMe\n            el.text = html;\n        } else {\n            el.innerHTML = html;\n            fixScripts(el, doc);\n        }\n\n    } else {\n        const addChildrenToElement = ADD_CHILDREN[name] || ADD_CHILDREN[ELEMENT_TAG.DEFAULT];\n        addChildrenToElement({ el, name, props, children, doc, domRenderer });\n    }\n}\n\n\nexport const dom : NodeRendererFactory<HTMLElement> = ({ doc = document } : { doc? : Document } = {}) => {\n    const domRenderer = (name, props, children) => {\n        const el = createElement({ name, props, doc });\n        addProps({ el, props });\n        addChildren({ el, name, props, children, doc, domRenderer });\n        return el;\n    };\n\n    return domRenderer;\n};\n","/* @flow */\n\nimport type { Node } from 'react'; // eslint-disable-line import/no-unresolved\n\nimport type { NodeRendererFactory } from '../node';\n\nexport const react : NodeRendererFactory<Node> = ({ React } = {}) => {\n    if (!React) {\n        throw new Error(`Must pass React library to react renderer`);\n    }\n\n    const reactRenderer = (name, props, children) => {\n        const renderedChildren = children.map(child => {\n            return child.isTextNode() ? child.getText() : child.render(reactRenderer);\n        });\n\n        return React.createElement(name, props, ...renderedChildren);\n    };\n\n    return reactRenderer;\n};\n","/* @flow */\n\nimport type { NodePropsType, NodeRendererFactory } from '../node';\n\nconst ELEMENT_PROP = {\n    INNER_HTML: 'innerHTML'\n};\n\nfunction htmlEncode(html : string) : string {\n    return html\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;')\n        .replace(/\\//g, '&#x2F;');\n}\n\nfunction propsToHTML(props : NodePropsType) : string {\n\n    const keys = Object.keys(props).filter(key => {\n        const val = props[key];\n\n        if (key === ELEMENT_PROP.INNER_HTML) {\n            return false;\n        }\n\n        if (!val) {\n            return false;\n        }\n\n        if (typeof val === 'string' || typeof val === 'number' || val === true) {\n            return true;\n        }\n\n        return false;\n    });\n\n    if (!keys.length) {\n        return '';\n    }\n\n    const pairs = keys.map(key => {\n        const val = props[key];\n\n        if (val === true) {\n            return `${ htmlEncode(key) }`;\n        }\n\n        if (typeof val !== 'string' && typeof val !== 'number') {\n            throw new TypeError(`Unexpected prop type: ${ typeof val }`);\n        }\n\n        return `${ htmlEncode(key) }=\"${ htmlEncode(val.toString()) }\"`;\n    });\n\n    return ` ${ pairs.join(' ') }`;\n}\n\nexport const html : NodeRendererFactory<string> = () => {\n\n    const htmlRenderer = (name, props, children) => {\n\n        const renderedChildren = (typeof props[ELEMENT_PROP.INNER_HTML] === 'string')\n            ? props[ELEMENT_PROP.INNER_HTML]\n            : children.map(child => {\n                return child.isTextNode() ? htmlEncode(child.getText()) : child.render(htmlRenderer);\n            }).join('');\n\n        return `<${ name }${ propsToHTML(props) }>${ renderedChildren }</${ name }>`;\n    };\n\n    return htmlRenderer;\n};\n","/* @flow */\n\nexport * from './node';\nexport * from './renderers';\n"],"sourceRoot":""}