{"version":3,"sources":["webpack://pragmatic/webpack/universalModuleDefinition","webpack://pragmatic/webpack/bootstrap","webpack://pragmatic/./src/constants.js","webpack://pragmatic/./src/node.js","webpack://pragmatic/./src/util.js","webpack://pragmatic/./src/renderers/dom.js","webpack://pragmatic/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://pragmatic/./src/renderers/react.js","webpack://pragmatic/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://pragmatic/./src/renderers/html.js","webpack://pragmatic/./src/index.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","hasOwnProperty","p","s","NODE_TYPE","ELEMENT","TEXT","COMPONENT","FRAGMENT","renderChildren","children","renderer","result","_i2","length","renderedChild","render","Array","isArray","_i4","subchild","push","ElementNode","props","type","onRender","_proto","prototype","el","FragmentNode","TextNode","text","ComponentNode","component","_proto4","renderComponent","child","normalizeChildren","normalizeChild","_i6","_i8","_normalizeChildren2","TypeError","node","element","_len","arguments","_key","Fragment","keys","Error","ALPHA_CHARS","ELEMENT_TAG","HTML","IFRAME","SCRIPT","NODE","DEFAULT","ELEMENT_PROP","ID","INNER_HTML","EL","ADD_CHILDREN","_ADD_CHILDREN","firstChild","addEventListener","win","contentWindow","doc","document","docElement","documentElement","removeChild","dom","appendChild","_node$renderChildren2","opts","_opts$doc","domRenderer","createTextNode","createTextElement","createElement","_Object$keys2","prop","val","match","slice","toLowerCase","setAttribute","toString","tagName","id","replace","charAt","Math","floor","random","addProps","html","innerHTML","window","_el$querySelectorAll2","querySelectorAll","script","parentNode","newScript","textContent","replaceChild","fixScripts","addChildren","_extends","assign","target","source","apply","react","_temp","React","reactRenderer","concat","dangerouslySetInnerHTML","__html","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","SELF_CLOSING_TAGS","br","htmlEncode","htmlRenderer","join","renderedProps","filter","map","renderedChildren","__webpack_exports__","node_ElementNode","node_FragmentNode","node_TextNode","node_ComponentNode","node_node"],"mappings":"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","file":"jsx-pragmatic.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pragmatic\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pragmatic\"] = factory();\n\telse\n\t\troot[\"pragmatic\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/* @flow */\n\nexport const NODE_TYPE = {\n    ELEMENT:   ('element' : 'element'),\n    TEXT:      ('text' : 'text'),\n    COMPONENT: ('component' : 'component'),\n    FRAGMENT:  ('fragment' : 'fragment')\n};\n","/* @flow */\n\nimport { NODE_TYPE } from './constants';\n\nexport type NodePropsType = {\n    [string] : any // eslint-disable-line flowtype/no-weak-types\n};\n\nexport type EmptyProps = {||};\n\nexport type NodeRenderer<N, O> = (N) => O;\nexport type NodeRendererFactory<L, N, O> = (L) => NodeRenderer<N, O>;\n\nexport type NodeType = ElementNode | TextNode | FragmentNode | ComponentNode<*>; // eslint-disable-line no-use-before-define\nexport type ChildNodeType = ElementNode | TextNode | ComponentNode<*>; // eslint-disable-line no-use-before-define\nexport type ChildType = ChildNodeType | string | $ReadOnlyArray<ChildType>;\nexport type ChildrenType = $ReadOnlyArray<ChildNodeType>;\nexport type NullableChildType = $ReadOnlyArray<ChildType> | ChildNodeType | string | null | void;\nexport type NullableChildrenType = $ReadOnlyArray<NullableChildrenType | ChildNodeType | string | null | void>;\n\nexport type ComponentFunctionType<P> = (P, ChildrenType) => NullableChildType;\n\nexport type CreateElementNode<P : NodePropsType> = (string, P | null, ...NullableChildrenType) => ElementNode; // eslint-disable-line no-use-before-define\nexport type CreateComponentNode<P : NodePropsType> = (ComponentFunctionType<P>, P | null, ...NullableChildrenType) => ComponentNode<P>; // eslint-disable-line no-use-before-define\nexport type CreateNode<P : NodePropsType> = CreateElementNode<P> & CreateComponentNode<P>;\n\nfunction renderChildren<T>(children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>, renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> { // eslint-disable-line no-use-before-define\n    const result = [];\n\n    for (const child of children) {\n        const renderedChild = child.render(renderer);\n\n        if (!renderedChild) {\n            continue;\n        } else if (Array.isArray(renderedChild)) {\n            for (const subchild of renderedChild) {\n                if (subchild) {\n                    result.push(subchild);\n                }\n            }\n        } else {\n            result.push(renderedChild);\n        }\n    }\n\n    return result;\n}\n\nexport class ElementNode {\n    type : (typeof NODE_TYPE.ELEMENT) = NODE_TYPE.ELEMENT\n\n    name : string\n    props : NodePropsType\n    children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>> // eslint-disable-line no-use-before-define\n    onRender : ?<T>(T) => void // eslint-disable-line no-undef\n\n    constructor(name : string, props : NodePropsType, children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>) { // eslint-disable-line no-use-before-define\n        this.name = name;\n        this.props = props;\n        this.children = children;\n\n        const onRender = props.onRender;\n        if (typeof onRender === 'function') {\n            this.onRender = onRender;\n            delete props.onRender;\n        }\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : T {\n        const el = renderer(this);\n        if (this.onRender) {\n            this.onRender(el);\n        }\n        return el;\n    }\n\n    renderChildren<T>(renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> {\n        return renderChildren(this.children, renderer);\n    }\n}\n\nexport class FragmentNode {\n    type : (typeof NODE_TYPE.FRAGMENT) = NODE_TYPE.FRAGMENT\n\n    children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>> // eslint-disable-line no-use-before-define\n\n    constructor(children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>) { // eslint-disable-line no-use-before-define\n        this.children = children;\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> {\n        return renderChildren(this.children, renderer);\n    }\n}\n\nexport class TextNode {\n    type : (typeof NODE_TYPE.TEXT) = NODE_TYPE.TEXT\n\n    text : string\n\n    constructor(text : string) {\n        this.text = text;\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : T {\n        return renderer(this);\n    }\n}\n\nexport class ComponentNode<P : NodePropsType> {\n    type : (typeof NODE_TYPE.COMPONENT) = NODE_TYPE.COMPONENT\n\n    component : ComponentFunctionType<P>\n    props : NodePropsType\n    children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>\n\n    constructor(component : ComponentFunctionType<P>, props : NodePropsType, children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>) {\n        this.component = component;\n        this.props = props;\n        this.children = children;\n    }\n\n    renderComponent(renderer : NodeRenderer<*, *>) : * {\n        // $FlowFixMe\n        const props : P = this.props;\n        const child = normalizeChild(this.component(props, this.children)); // eslint-disable-line no-use-before-define\n        if (child) {\n            return child.render(renderer);\n        }\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : T {\n        return renderer(this);\n    }\n\n    renderChildren<T>(renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> {\n        return renderChildren(this.children, renderer);\n    }\n}\n\nfunction normalizeChildren(children : NullableChildrenType) : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>> {\n    const result = [];\n\n    for (const child of children) {\n        if (!child) {\n            continue;\n        } else if (typeof child === 'string') {\n            result.push(new TextNode(child));\n        } else if (Array.isArray(child)) {\n            for (const subchild of normalizeChildren(child)) {\n                result.push(subchild);\n            }\n        } else if (child && (child.type === NODE_TYPE.ELEMENT || child.type === NODE_TYPE.TEXT || child.type === NODE_TYPE.COMPONENT)) {\n            result.push(child);\n    \n        } else {\n            throw new TypeError(`Unrecognized node type: ${ typeof child }`);\n        }\n    }\n\n    return result;\n}\n\nfunction normalizeChild(child) : ElementNode | TextNode | ComponentNode<*> | FragmentNode | void {\n    const children = normalizeChildren(Array.isArray(child) ? child : [ child ]);\n\n    if (children.length === 1) {\n        return children[0];\n    } else if (children.length > 1) {\n        return new FragmentNode(children);\n    }\n}\n\nexport const node : CreateNode<*> = (element, props, ...children) => {\n    // $FlowFixMe\n    props = props || {};\n    children = normalizeChildren(children);\n\n    if (typeof element === 'string') {\n        // $FlowFixMe\n        return new ElementNode(element, props, children);\n    }\n    \n    if (typeof element === 'function') {\n        // $FlowFixMe\n        return new ComponentNode(element, props, children);\n    }\n\n    throw new TypeError(`Expected jsx element to be a string or a function`);\n};\n\nexport const Fragment : ComponentFunctionType<EmptyProps> = (props : NodePropsType, children : ChildrenType) : NullableChildType => {\n    if (props && Object.keys(props).length) {\n        throw new Error(`Do not pass props to Fragment`);\n    }\n\n    return children;\n};\n","/* @flow */\n\nconst ALPHA_CHARS = '0123456789abcdef';\n\nexport function uniqueID() : string {\n    return 'xxxxxxxxxx'.replace(/./g, () => ALPHA_CHARS.charAt(Math.floor(Math.random() * ALPHA_CHARS.length)));\n}\n","/* @flow */\n\nimport { ComponentNode, TextNode, type NodeRenderer, ElementNode } from '../node';\nimport { NODE_TYPE } from '../constants';\nimport { uniqueID } from '../util';\n\ntype DomNodeRenderer = NodeRenderer<ElementNode, HTMLElement>;\ntype DomTextRenderer = NodeRenderer<TextNode, Text>;\ntype DomComponentRenderer = NodeRenderer<ComponentNode<*>, HTMLElement | TextNode | $ReadOnlyArray<HTMLElement | TextNode> | void>;\ntype DomRenderer = DomComponentRenderer & DomNodeRenderer & DomTextRenderer;\n\nconst ELEMENT_TAG = {\n    HTML:    'html',\n    IFRAME:  'iframe',\n    SCRIPT:  'script',\n    NODE:    'node',\n    DEFAULT: 'default'\n};\n\nconst ELEMENT_PROP = {\n    ID:         'id',\n    INNER_HTML: 'innerHTML',\n    EL:         'el'\n};\n\nfunction fixScripts(el : HTMLElement, doc : Document = window.document) {\n    for (const script of el.querySelectorAll('script')) {\n        const parentNode = script.parentNode;\n\n        if (!parentNode) {\n            continue;\n        }\n\n        const newScript = doc.createElement('script');\n        // $FlowFixMe\n        newScript.text = script.textContent;\n        parentNode.replaceChild(newScript, script);\n    }\n}\n\nfunction createElement(doc : Document, node : ElementNode) : HTMLElement {\n    if (node.props[ELEMENT_PROP.EL]) {\n        // $FlowFixMe\n        return node.props[ELEMENT_PROP.EL];\n    }\n\n    return doc.createElement(node.name);\n}\n\nfunction createTextElement(doc : Document, node : TextNode) : Text {\n    return doc.createTextNode(node.text);\n}\n\nfunction addProps(el : HTMLElement, node) {\n    const props = node.props;\n\n    for (const prop of Object.keys(props)) {\n        const val = props[prop];\n\n        if (val === null || typeof val === 'undefined' || prop === ELEMENT_PROP.EL || prop === ELEMENT_PROP.INNER_HTML) {\n            continue;\n        }\n\n        if (prop.match(/^on[A-Z][a-z]/) && typeof val === 'function') {\n            el.addEventListener(prop.slice(2).toLowerCase(), val);\n        } else if (typeof val === 'string' || typeof val === 'number') {\n            el.setAttribute(prop, val.toString());\n\n        } else if (typeof val === 'boolean') {\n            if (val === true) {\n                el.setAttribute(prop, '');\n            }\n        }\n    }\n\n    if (el.tagName.toLowerCase() === ELEMENT_TAG.IFRAME && !props.id) {\n        el.setAttribute(ELEMENT_PROP.ID, `jsx-iframe-${ uniqueID() }`);\n    }\n}\nconst ADD_CHILDREN : { [string] : (HTMLElement, ElementNode, DomNodeRenderer) => void } = {\n\n    [ ELEMENT_TAG.IFRAME ]: (el, node) => {\n        const firstChild = node.children[0];\n\n        if (node.children.length !== 1 || !(firstChild && firstChild.type === NODE_TYPE.ELEMENT) || firstChild.name !== ELEMENT_TAG.HTML) {\n            throw new Error(`Expected only single html element node as child of ${ ELEMENT_TAG.IFRAME } element`);\n        }\n    \n        el.addEventListener('load', () => {\n\n            // $FlowFixMe\n            const win = el.contentWindow;\n    \n            if (!win) {\n                throw new Error(`Expected frame to have contentWindow`);\n            }\n\n            const doc = win.document;\n            const docElement = doc.documentElement;\n\n            while (docElement.children && docElement.children.length) {\n                docElement.removeChild(docElement.children[0]);\n            }\n\n            // eslint-disable-next-line no-use-before-define\n            const child : HTMLElement = firstChild.render(dom({ doc }));\n        \n            while (child.children.length) {\n                docElement.appendChild(child.children[0]);\n            }\n        });\n    },\n\n    [ ELEMENT_TAG.SCRIPT ]: (el, node) => {\n        const firstChild = node.children[0];\n\n        if (node.children.length !== 1 || !(firstChild && firstChild.type === NODE_TYPE.TEXT)) {\n            throw new Error(`Expected only single text node as child of ${ ELEMENT_TAG.SCRIPT } element`);\n        }\n        \n        // $FlowFixMe\n        el.text = firstChild.text;\n    },\n\n    [ ELEMENT_TAG.DEFAULT ]: (el, node, renderer) => {\n        for (const child of node.renderChildren(renderer)) {\n            el.appendChild(child);\n        }\n    }\n};\n\nfunction addChildren(el : HTMLElement, node : ElementNode, doc : Document, renderer : DomNodeRenderer) {\n    if (node.props.hasOwnProperty(ELEMENT_PROP.INNER_HTML)) {\n\n        if (node.children.length) {\n            throw new Error(`Expected no children to be passed when ${ ELEMENT_PROP.INNER_HTML } prop is set`);\n        }\n\n        const html = node.props[ELEMENT_PROP.INNER_HTML];\n\n        if (typeof html !== 'string') {\n            throw new TypeError(`${ ELEMENT_PROP.INNER_HTML } prop must be string`);\n        }\n\n        if (node.name === ELEMENT_TAG.SCRIPT) {\n            // $FlowFixMe\n            el.text = html;\n        } else {\n            el.innerHTML = html;\n            fixScripts(el, doc);\n        }\n\n    } else {\n        const addChildrenToElement = ADD_CHILDREN[node.name] || ADD_CHILDREN[ELEMENT_TAG.DEFAULT];\n        addChildrenToElement(el, node, renderer);\n    }\n}\n\nexport function dom(opts? : { doc? : Document } = {}) : DomRenderer {\n    const { doc = document } = opts;\n    \n    const domRenderer : DomRenderer = (node) => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return node.renderComponent(domRenderer);\n        }\n        \n        if (node.type === NODE_TYPE.TEXT) {\n            // $FlowFixMe\n            return createTextElement(doc, node);\n        }\n        \n        if (node.type === NODE_TYPE.ELEMENT) {\n            const el = createElement(doc, node);\n            addProps(el, node);\n            addChildren(el, node, doc, domRenderer);\n            // $FlowFixMe\n            return el;\n        }\n\n        throw new TypeError(`Unhandleable node`);\n    };\n\n    return domRenderer;\n}\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","/* @flow */\n\nimport type { Node } from 'react'; // eslint-disable-line import/no-unresolved\n\nimport { ComponentNode, TextNode, ElementNode, type NodeRenderer, type NodePropsType } from '../node';\nimport { NODE_TYPE } from '../constants';\n\ntype ReactType = {|\n    createElement : Function\n|};\n\ntype ReactRenderer = NodeRenderer<ElementNode | TextNode | ComponentNode<*>, Node | string | null>;\n\nfunction mapReactProps(props : NodePropsType) : NodePropsType {\n    const { innerHTML, ...remainingProps } = props;\n\n    const dangerouslySetInnerHTML = innerHTML\n        ? { __html: innerHTML }\n        : null;\n\n    return {\n        dangerouslySetInnerHTML,\n        ...remainingProps\n    };\n}\n\nexport function react({ React } : { React : ReactType } = {}) : ReactRenderer {\n    if (!React) {\n        throw new Error(`Must pass React library to react renderer`);\n    }\n    \n    const reactRenderer = (node) => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return React.createElement(() => (node.renderComponent(reactRenderer) || null), node.props, ...node.renderChildren(reactRenderer));\n        }\n        \n        if (node.type === NODE_TYPE.ELEMENT) {\n            return React.createElement(node.name, mapReactProps(node.props), ...node.renderChildren(reactRenderer));\n        }\n        \n        if (node.type === NODE_TYPE.TEXT) {\n            return node.text;\n        }\n\n        throw new TypeError(`Unhandleable node`);\n    };\n\n    return reactRenderer;\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","/* @flow */\n\nimport { ComponentNode, TextNode, ElementNode, type NodePropsType, type NodeRenderer } from '../node';\nimport { NODE_TYPE } from '../constants';\n\ntype HTMLRenderer = NodeRenderer<ElementNode | TextNode | ComponentNode<*>, string>;\n\nconst ELEMENT_PROP = {\n    INNER_HTML: 'innerHTML'\n};\n\nconst SELF_CLOSING_TAGS = {\n    br: true\n};\n\nfunction htmlEncode(text : string) : string {\n    return text\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;')\n        .replace(/\\//g, '&#x2F;');\n}\n\nfunction propsToHTML(props : NodePropsType) : string {\n\n    const keys = Object.keys(props).filter(key => {\n        const val = props[key];\n\n        if (key === ELEMENT_PROP.INNER_HTML) {\n            return false;\n        }\n\n        if (!val) {\n            return false;\n        }\n\n        if (typeof val === 'string' || typeof val === 'number' || val === true) {\n            return true;\n        }\n\n        return false;\n    });\n\n    if (!keys.length) {\n        return '';\n    }\n\n    const pairs = keys.map(key => {\n        const val = props[key];\n\n        if (val === true) {\n            return `${ htmlEncode(key) }`;\n        }\n\n        if (typeof val !== 'string' && typeof val !== 'number') {\n            throw new TypeError(`Unexpected prop type: ${ typeof val }`);\n        }\n\n        return `${ htmlEncode(key) }=\"${ htmlEncode(val.toString()) }\"`;\n    });\n\n    return ` ${ pairs.join(' ') }`;\n}\n\nexport function html() : HTMLRenderer {\n\n    const htmlRenderer = (node) => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return [].concat(node.renderComponent(htmlRenderer)).join('');\n        }\n        \n        if (node.type === NODE_TYPE.ELEMENT) {\n            const renderedProps = propsToHTML(node.props);\n\n            if (SELF_CLOSING_TAGS[node.name]) {\n                return `<${ node.name }${ renderedProps } />`;\n            } else {\n                const renderedChildren = (typeof node.props[ELEMENT_PROP.INNER_HTML] === 'string')\n                    ? node.props[ELEMENT_PROP.INNER_HTML]\n                    : node.renderChildren(htmlRenderer).join('');\n                    \n                return `<${ node.name }${ renderedProps }>${ renderedChildren }</${ node.name }>`;\n            }\n        }\n        \n        if (node.type === NODE_TYPE.TEXT) {\n            return htmlEncode(node.text);\n        }\n\n        throw new TypeError(`Unhandleable node: ${ node.type }`);\n    };\n\n    return htmlRenderer;\n}\n","/* @flow */\n\nexport * from './node';\nexport * from './renderers';\nexport * from './constants';\n"],"sourceRoot":""}